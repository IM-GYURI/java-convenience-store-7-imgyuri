# java-convenience-store-precourse

## 📑개요

### 간단한 편의점 프로그램

구매자의 할인 혜택과 재고 상황을 고려하여 최종 결제 금액을 계산하고 안내하는 결제 시스템입니다.

## 💬흐름

1. 환영 인사 출력

```
안녕하세요. W편의점입니다.
```

2. 보유하고 있는 상품 목록 출력

```
현재 보유하고 있는 상품입니다.

- 콜라 1,000원 10개 탄산2+1
- 콜라 1,000원 10개
- 사이다 1,000원 8개 탄산2+1
- 사이다 1,000원 7개
- 오렌지주스 1,800원 9개 MD추천상품
- 오렌지주스 1,800원 재고 없음
- 탄산수 1,200원 5개 탄산2+1
- 탄산수 1,200원 재고 없음
- 물 500원 10개
- 비타민워터 1,500원 6개
- 감자칩 1,500원 5개 반짝할인
- 감자칩 1,500원 5개
- 초코바 1,200원 5개 MD추천상품
- 초코바 1,200원 5개
- 에너지바 2,000원 5개
- 정식도시락 6,400원 8개
- 컵라면 1,700원 1개 MD추천상품
- 컵라면 1,700원 10개
```

3. 구매할 상품과 수량 입력

```
구매하실 상품명과 수량을 입력해 주세요. (예: [사이다-2],[감자칩-1])
[콜라-3],[에너지바-5]
```

4. 프로모션 적용 여부 안내 및 추가 수량 여부 입력

```
현재 오렌지주스은(는) 1개를 무료로 더 받을 수 있습니다. 추가하시겠습니까? (Y/N)
Y
```

5. 정가 결제 여부 입력

```
현재 콜라 4개는 프로모션 할인이 적용되지 않습니다. 그래도 구매하시겠습니까? (Y/N)
Y
```

6. 멤버십 할인 적용 여부 입력

```
멤버십 할인을 받으시겠습니까? (Y/N)
N
```

7. 영수증 출력

```
==============W 편의점================
상품명		수량	금액
콜라		10 	10,000
=============증	정===============
콜라		2
====================================
총구매액		10	10,000
행사할인			-2,000
멤버십할인			-0
내실돈			 8,000

```

8. 추가 구매 여부 입력

```
감사합니다. 구매하고 싶은 다른 상품이 있나요? (Y/N)
Y
```

## 🛠️기능 목록

### 입출력 기능

- [X] 환영 인사 출력
- [X] 상품 목록 출력
- [X] 상품명, 수량 입력 받기
    - [X] 입력 형식 검증
        - null일 경우 ✅
        - 빈 값일 경우 (""") || 공백일 경우 (" ") ✅
        - 포맷에 맞지 않을 경우 : `[상품명-수량],[상품명-수량]` ✅
        - 해당 상품명이 존재하지 않을 경우 ✅
        - 상품명이 중복일 경우 : `[사이다-3],[사이다-2]` ✅
        - 수량이 숫자가 아닐 경우 ✅
        - 수량이 1보다 작을 경우 ✅
    - [X] 에러 발생 시 출력 후 재입력 유도
- [X] 프로모션 적용 여부 안내 후 추가 수량 여부 입력 받기
- [X] 정가 결제 여부 안내 후 결제 여부 입력 받기
- [X] 멤버십 할인 적용 여부 입력 받기
- [ ] 영수증 출력 (영수증 관련 상세한 기능은 [영수증 기능](#영수증-기능)에서 확인 가능)
- [ ] 추가 구매 여부 안내 후 입력 받기

### 파일 파싱 기능

- [X] promotions.md 파일을 Promotion 객체로 변환
- [X] products.md 파일을 Product 객체로 변환

### 결제 기능

- [X] 상품의 가격 및 수량 입력값에 따른 총구매액 계산
- [X] 프로모션 혜택 적용하여 할인된 최종 금액 계산
- [x] 멤버십 할인을 적용하여 할인된 최종 결제 금액 계싼
- [X] 할인된 총 금액과 최종 결제 금액 정보 전달

### 재고 관리 기능

- [X] 구매 요청 시 각 상품의 재고 수량 검토
    - [X] 재고 부족 시 안내 후 재입력 유도
- [ ] 결제 완료 시 상품 재고 차감
- [ ] 최신 재고 상태 반영

### 프로모션 기능

- [X] 프로모션 기간에 따른 할인 적용
- [X] N개 구매 시 1개 무료 증졍 프로모션 처리
- [ ] 동일 상품에 여러 프로모션 적용 제한
- [ ] 프로모션 재고 차감 및 일반 재고 사용 조건 처리
- [X] 프로모션 혜택을 받기 위한 수량 안내 및 추가 여부 확인
- [ ] 프로모션 재고 부족 시 일부 수량을 정가로 결제하는 처리

### 멤버십 할인 기능

- [X] 프로모션 미적용 금액에 대해 30% 멤버십 할인 적용
- [X] 멤버십 할인 한도 (최대 8,000원)

### 영수증 기능

- [ ] 구매 상품 내역 (상품명, 수량, 금액)
- [ ] 증정 상품 내역
- [ ] 금액 정보
    - [ ] 총구매액
    - [ ] 행사할인
    - [ ] 멤버십할인
    - [ ] 내실돈

### 추가 기능

- [ ] 재입력 횟수 제한